<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>API Tester (TASY) — Token manual</title>

  <!-- CSS separado -->
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
<div class="wrap">
  <header>
    <div class="brand">
      <div class="logo"></div>
      <div>
        <h1>API Tester (TASY)</h1>
        <div class="sub">Teste APIs usando Bearer Token</div>
      </div>
    </div>
    <div class="pill" id="pill">Pronto</div>
  </header>

  <div class="grid">
    <!-- REQUEST -->
    <div class="card">
      <div class="hd">
        <p class="title">Request</p>
        <span class="hint">auth + método + URL</span>
      </div>

      <!-- AUTH -->
      <div class="row">
        <div>
          <label>Auth Scheme</label>
          <select id="scheme">
            <option>Bearer</option>
            <option>Token</option>
          </select>
        </div>
        <div style="flex:3">
            <label>Token</label>
              <div class="token-wrap">
                <input id="token" type="password" placeholder="cole seu access_token aqui" />

                <button type="button" class="token-toggle" id="toggleToken" aria-label="Mostrar/ocultar token">
                  <!-- Eye (hidden) -->
                  <svg id="iconEye" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M12 5c-5 0-9 4.5-10 7 1 2.5 5 7 10 7s9-4.5 10-7c-1-2.5-5-7-10-7zm0 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10z"/>
                    <circle cx="12" cy="12" r="2.5"/>
                  </svg>

                  <!-- Eye off (shown) -->
                  <svg id="iconEyeOff" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="hidden">
                    <path d="M2 2l20 20M12 5c-5 0-9 4.5-10 7 1 2.5 5 7 10 7 2.1 0 4-.7 5.6-1.8M9.5 9.5A3.5 3.5 0 0 0 12 15.5c.7 0 1.4-.2 2-.6"/>
                  </svg>
                </button>
              </div>
        </div>
      </div>

      <!-- MÉTODO -->
      <div class="row">
        <div>
          <label>Método</label>
          <select id="method">
            <option>GET</option>
            <option>POST</option>
            <option>PUT</option>
            <option>PATCH</option>
            <option>DELETE</option>
          </select>
        </div>
        <div style="flex:2">
          <label>URL</label>
          <input id="url" placeholder="https://api..." />
        </div>
      </div>

      <label>Query Params</label>

<div class="kvwrap">
  <table class="kv" aria-label="Query params">
    <thead>
      <tr>
        <th>Parâmetro</th>
        <th>Valor</th>
      </tr>
    </thead>
    <tbody id="paramsBody">
      <!-- linhas vão aqui -->
    </tbody>
  </table>

  <div class="kvbtns">
    <button type="button" id="addParam">Adicionar</button>
    <button type="button" id="clearParams">Limpar</button>
  </div>

  <div class="small">
    Os parâmetros acima serão enviados na URL como <code>?chave=valor</code>.
  </div>
</div>

      <label>Headers extras (JSON)</label>
      <textarea id="headers"></textarea>

      <label>Body (JSON)</label>
      <textarea id="body"></textarea>

      <label>Link compartilhável</label>
<div class="row">
  <input id="sharelink" placeholder="Clique em 'Gerar link'..." readonly />
  <button id="genshare">Gerar link</button>
  <button id="copyshare">Copiar</button>
</div>
<div class="small">Dica: por segurança, o token pode ficar fora do link.</div>

      <div class="btnrow">
        <button class="primary" id="send">Enviar</button>
        <button id="savecfg">Salvar</button>
        <button id="loadcfg">Carregar</button>
        <button id="clearcfg">Apagar salvos</button>
        <button id="clear">Limpar</button>
        <button id="copycurl">Copiar cURL</button>
      </div>
    </div>

    <!-- RESPONSE -->
<div class="card">
  <div class="hd">
    <p class="title">Response</p>
    <span class="hint" id="meta">status / tempo</span>
  </div>

  <div class="small" id="statusline">Status: —</div>

  <!-- Tabs -->
  <div class="tabs" role="tablist" aria-label="Response tabs">
    <button class="tab active" id="tabJson" type="button">JSON</button>
    <button class="tab" id="tabResumo" type="button">Resumo</button>
  </div>

  <!-- JSON view -->
  <div class="tabpanel" id="panelJson">
    <pre id="out">{}</pre>
  </div>

  <!-- Summary view -->
  <div class="tabpanel hidden" id="panelResumo">
    <div class="summary">
      <div class="summary-row">
        <div class="summary-k">Código</div>
        <div class="summary-v" id="sumCodigo">—</div>
      </div>

      <div class="summary-row">
       <div class="summary-k">Prontuário</div>
        <div class="summary-v" id="sumProntuario">—</div>
      </div>

      <div class="summary-row">
        <div class="summary-k">Nome</div>
        <div class="summary-v" id="sumNome">—</div>
      </div>

      <div class="summary-row">
        <div class="summary-k">Nascimento</div>
        <div class="summary-v" id="sumNasc">—</div>
      </div>

      <div class="summary-row">
        <div class="summary-k">Cidade</div>
        <div class="summary-v" id="sumCidade">—</div>
      </div>

      <div class="summary-row">
        <div class="summary-k">Estado</div>
        <div class="summary-v" id="sumEstado">—</div>
      </div>

      <div class="summary-row">
        <div class="summary-k">Endereço</div>
        <div class="summary-v" id="sumEndereco">—</div>
      </div>
    </div>
  </div>
</div>
  </div>
</div>

<!-- JS separado -->
<script src="app.js"></script>
</body>
</html>
